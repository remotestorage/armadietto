<%- include('../begin.html'); %>

<script type="module" src="<%= basePath %>/assets/admin-users.mjs"></script>
<script type="module" src="<%= basePath %>/assets/contact-url.mjs"></script>

<section class="hero">
    <header class="centeredText"><h1><%= title %></h1></header>
</section>

<% if (items.length) { %>
<table id="inviteRequests" class="fullwidth">
    <tbody>
    <% for (item of items) { %>
        <tr>
            <td><%= item.contacturl %>
                <button data-contacturl="<%= item.contacturl %>" class="floatRight">Delete</button>
                <button data-contacturl="<%= item.contacturl %>" data-privilegegrant="<%= JSON.stringify(item.privilegeGrant) %>" class="floatRight">Invite</button>
            </td>
        </tr>
    <% } %>
    </tbody>
</table>
<% } else { %>
<div class="flexRowSpaceAround">
    <div>No invite requests currently</div>
</div>
<% } %>

&nbsp;
<hr>
&nbsp;

<%- include('../contact-url.html'); %>

&nbsp;
<hr>
&nbsp;

<div id="progress" hidden><label>Generating: <progress></progress></label></div>

<div id="sendFromMeContainer" class="marginTop marginSides centeredText" hidden>
    <a id="sendFromMe" href="" target="_blank" rel="noreferrer">Send invite from my account</a>
</div>

<div id="shareContainer" class="marginTop marginSides centeredText" hidden>
    <button id="share" type="button" class="mainAction width10em">Share Invite from an account of mine</button>
</div>

<div id="outputDiv" class="paddingBottom" hidden>
    <label id="outputLabel" for="output"></label>
    <div id="output"></div>
</div>

<%- include('../end.html'); %>
